import{_ as y,v as c,b as p,X as _,F as o,M as P,m as T,n as k,C as H,O as S,t as j,L as $,e as B,f as G,G as J,a0 as Q,q as W,y as U,d as A,r as I,Z as X,Q as Z,u as O,a1 as Y,N as f,z,B as ee,a2 as C,I as E,a3 as te,c as ne,A as ae,H as se,a4 as oe,a5 as re,a6 as le,a7 as ie,a8 as ce,a9 as ue,aa as de,ab as pe,ac as _e,ad as fe,ae as be,af as ge,ag as he}from"./chunks/framework.d1204a03.js";import{t as x}from"./chunks/theme.a10008ed.js";const me={data(){return{status:"Please wait"}},beforeMount(){const e=new URLSearchParams(window.location.search),n=e.get("name"),t=e.get("url");if(console.log(window.location),n&&t){const a=this.constructDeeplink(n,t);window.location.replace(a),this.$data.status="Opening Paperback"}else this.$data.status="Invalid query parameters"},methods:{constructDeeplink(e,n){return"paperback://addRepo?displayName="+encodeURI(e)+"&url="+encodeURIComponent(n)}}},ye={id:"status"};function ve(e,n,t,a,s,r){return c(),p("div",ye,_(s.status),1)}const Se=y(me,[["render",ve]]),we=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),$e="https://api.github.com/repos/Paperback-iOS/app/releases/latest",Pe="https://github.com/Paperback-iOS/app/releases/latest",Te={props:{text:{type:String,required:!0}},data(){return{tagName:"",browserDownloadUrl:"",fallbackDownloadUrl:""}},async mounted(){const{data:e}=await fetch($e),n=e.assets.find(t=>t.name.includes(".ipa"));this.$data.tagName=e.tag_name,this.$data.browserDownloadUrl=n.browser_download_url,this.$data.fallbackDownloadUrl=Pe}},ke=["href"];function Ae(e,n,t,a,s,r){return c(),p("a",{href:this.$data.browserDownloadUrl||this.$data.fallbackDownloadUrl},[o("span",null,_(t.text),1)],8,ke)}const Ee=y(Te,[["render",Ae]]),Oe=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));const Re={props:{url:{type:String,required:!0},name:{type:String,required:!0},description:{type:String,required:!0}},data(){return{extensions:[]}},async beforeMount(){const{data:e}=await fetch(this.$props.url+"/versioning.json");this.$data.extensions=e.sources},methods:{getName(e){return e.replace(/[[|(][^(|[]+[\]|)]/g,"").trim()},encodedURL(){return"paperback://addRepo?displayName="+encodeURI(this.$props.name)+"&url="+encodeURI(this.$props.url)}}},N=e=>(B("data-v-507da34a"),e=e(),G(),e),xe={class:"hidden-md-and-down"},De=["href"],Le={colspan:"3",class:"hidden-lg-and-up"},je={colspan:"3"},Ue={colspan:"3"},Ie={id:"v-for-object",class:"extensionList"},ze=["id"],Ce=N(()=>o("b",null,"•",-1)),Ne={key:1},Ve=N(()=>o("b",null,"•",-1));function qe(e,n,t,a,s,r){const l=P("el-tag"),u=P("ElTooltip");return c(),p("table",null,[o("thead",null,[o("tr",null,[o("th",null,[o("b",null,_(t.name),1)]),o("th",xe,_(t.url),1),o("th",null,[o("a",{href:r.encodedURL()},"Add to Paperback",8,De)])])]),o("tbody",null,[o("tr",null,[o("td",Le,[o("b",null,_(t.url),1)])]),o("tr",null,[o("td",je,_(t.description),1)]),o("tr",null,[o("td",Ue,[o("ul",Ie,[(c(!0),p(T,null,k(s.extensions,i=>(c(),p("li",{id:i.name,key:i.id},[i.tags!=null&&i.tags.length>0?(c(),H(u,{key:0,placement:"bottom"},{content:S(()=>[o("div",null,[(c(!0),p(T,null,k(i.tags,g=>(c(),p("span",{key:g.text},[j(l,{type:g.type,size:"mini",effect:"dark"},{default:S(()=>[$(_(g.text),1)]),_:2},1032,["type"])]))),128))])]),default:S(()=>[o("span",null,[Ce,$(" "+_(r.getName(i.name)),1)])]),_:2},1024)):(c(),p("span",Ne,[Ve,$(" "+_(r.getName(i.name)),1)]))],8,ze))),128))])])])])])}const Me=y(Re,[["render",qe],["__scopeId","data-v-507da34a"]]),Fe=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"})),Ke={props:{title:{type:String,required:!0},button:{type:String,required:!0},src:{type:String,required:!0}},data(){return{dialogVisible:!1}}},He=["src"];function Be(e,n,t,a,s,r){const l=P("el-dialog");return c(),p("span",null,[o("a",{onClick:n[0]||(n[0]=u=>s.dialogVisible=!0),style:{cursor:"pointer"}},_(t.button),1),j(l,{title:t.title,visible:s.dialogVisible,center:"",width:"65%"},{default:S(()=>[o("img",{src:t.src},null,8,He)]),_:1},8,["title","visible"])])}const Ge=y(Ke,[["render",Be]]),Je=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));const Qe=e=>{if(typeof document>"u")return{stabilizeScrollPosition:s=>async(...r)=>s(...r)};const n=document.documentElement;return{stabilizeScrollPosition:a=>async(...s)=>{const r=a(...s),l=e.value;if(!l)return r;const u=l.offsetTop-n.scrollTop;return await J(),n.scrollTop=l.offsetTop-u,r}}},V="vitepress:tabSharedState",m=typeof localStorage<"u"?localStorage:null,q="vitepress:tabsSharedState",We=()=>{const e=m==null?void 0:m.getItem(q);if(e)try{return JSON.parse(e)}catch{}return{}},Xe=e=>{m&&m.setItem(q,JSON.stringify(e))},Ze=e=>{const n=Q(We());W(n,t=>{Xe(t)}),e.provide(V,n)},Ye=(e,n)=>{const t=U(V);if(!t)throw new Error("[vitepress-plugin-tabs] TabsSharedState should be injected");const a=A(),s=I({get(){const l=n.value,u=e.value;if(l){const i=t[l];if(i&&u.includes(i))return i}else{const i=a.value;if(i)return i}return u[0]},set(l){const u=n.value;u?t[u]=l:a.value=l}});return{selected:s,select:l=>{s.value=l}}};let D=0;const et=()=>(D++,""+D);function tt(){const e=X();return I(()=>{var a;const t=(a=e.default)==null?void 0:a.call(e);return t?t.filter(s=>typeof s.type=="object"&&"__name"in s.type&&s.type.__name==="PluginTabsTab"&&s.props).map(s=>{var r;return(r=s.props)==null?void 0:r.label}):[]})}const M="vitepress:tabSingleState",nt=e=>{Z(M,e)},at=()=>{const e=U(M);if(!e)throw new Error("[vitepress-plugin-tabs] TabsSingleState should be injected");return e},st={class:"plugin-tabs"},ot=["id","aria-selected","aria-controls","tabindex","onClick"],rt=O({__name:"PluginTabs",props:{sharedStateKey:{}},setup(e){const n=e,t=tt(),{selected:a,select:s}=Ye(t,Y(n,"sharedStateKey")),r=A(),{stabilizeScrollPosition:l}=Qe(r),u=l(s),i=A([]),g=v=>{var R;const h=t.value.indexOf(a.value);let d;v.key==="ArrowLeft"?d=h>=1?h-1:t.value.length-1:v.key==="ArrowRight"&&(d=h<t.value.length-1?h+1:0),d!==void 0&&(u(t.value[d]),(R=i.value[d])==null||R.focus())},w=et();return nt({uid:w,selected:a}),(v,h)=>(c(),p("div",st,[o("div",{ref_key:"tablist",ref:r,class:"plugin-tabs--tab-list",role:"tablist",onKeydown:g},[(c(!0),p(T,null,k(f(t),d=>(c(),p("button",{id:`tab-${d}-${f(w)}`,ref_for:!0,ref_key:"buttonRefs",ref:i,key:d,role:"tab",class:"plugin-tabs--tab","aria-selected":d===f(a),"aria-controls":`panel-${d}-${f(w)}`,tabindex:d===f(a)?0:-1,onClick:()=>f(u)(d)},_(d),9,ot))),128))],544),z(v.$slots,"default")]))}});const lt=["id","aria-labelledby"],it=O({__name:"PluginTabsTab",props:{label:{}},setup(e){const{uid:n,selected:t}=at();return(a,s)=>f(t)===a.label?(c(),p("div",{key:0,id:`panel-${a.label}-${f(n)}`,class:"plugin-tabs--content",role:"tabpanel",tabindex:"0","aria-labelledby":`tab-${a.label}-${f(n)}`},[z(a.$slots,"default",{},void 0,!0)],8,lt)):ee("",!0)}});const ct=y(it,[["__scopeId","data-v-c798c16f"]]),ut=e=>{Ze(e),e.component("PluginTabs",rt),e.component("PluginTabsTab",ct)},L=Object.assign({"../components/DeeplinkParser.vue":we,"../components/Download.vue":Oe,"../components/ExtensionsList.vue":Fe,"../components/PictureDialog.vue":Je}),F=[];for(const e in L)F.push(L[e].default);const dt={extends:x,Layout:()=>C(x.Layout,null,{}),enhanceApp({app:e,router:n,siteData:t}){ut(e),F.forEach(a=>{e.component(a.name,a)})}};function K(e){if(e.extends){const n=K(e.extends);return{...n,...e,async enhanceApp(t){n.enhanceApp&&await n.enhanceApp(t),e.enhanceApp&&await e.enhanceApp(t)}}}return e}const b=K(dt),pt=O({name:"VitePressApp",setup(){const{site:e}=ne();return ae(()=>{se(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),oe(),re(),le(),b.setup&&b.setup(),()=>C(b.Layout)}});async function _t(){const e=bt(),n=ft();n.provide(ie,e);const t=ce(e.route);return n.provide(ue,t),n.component("Content",de),n.component("ClientOnly",pe),Object.defineProperties(n.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),b.enhanceApp&&await b.enhanceApp({app:n,router:e,siteData:_e}),{app:n,router:e,data:t}}function ft(){return fe(pt)}function bt(){let e=E,n;return be(t=>{let a=ge(t);return a?(e&&(n=a),(e||n===a)&&(a=a.replace(/\.js$/,".lean.js")),E&&(e=!1),he(()=>import(a),[])):null},b.NotFound)}E&&_t().then(({app:e,router:n,data:t})=>{n.go().then(()=>{te(n.route,t.site),e.mount("#app")})});export{_t as createApp};
